<!DOCTYPE html>
<html lang="en">	
	<head>
        <title>Progressive Pattern Mining Tool</title>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<!--         <script src="Vis/vis.js" type="text/javascript"></script> -->
<!--         <script src="TimelineScript.js" type="text/javascript"></script> -->
<!--         <script src="http://api.simile-widgets.org/timeline/2.3.1/timeline-api.js?bundle=true" type="text/javascript"></script> -->
        <link rel="stylesheet" type="text/css" href="style.css">
        <link href="Vis/vis.css" rel="stylesheet" type="text/css" />
        <link href="noUiSlider/nouislider.css" rel="stylesheet" type="text/css" />
    </head>

<!-- 	<body onload="onLoad();" onresize="onResize();"> 			Uniquement si on utilise la timeline MIT-->
	<body>
	
		<div id="wrapper">
			<div id="banner">
			
				<div><span class="caps">P</span>rogressive <span class="caps">P</span>attern <span class="caps">M</span>ining <span class="caps">T</span>ool</div>
			
			</div>
			<div id="datasetSelection" class="section">
				<div class="text-centered">
					<h2>Select the dataset you want to use</h2>
				</div>
				<ul id='datasetList'>
				
				</ul>
			</div>
			<div id="tool">
			
				<div id="left" class="section">
					
					<div class="title">The data</div>
					
					<ul class="controlTabs">
						<li><a href="javascript:void(0)" class="controlTabLink active" onclick="openControlTab(event, 'Trace')">Trace</a></li>
						<li><a href="javascript:void(0)" class="controlTabLink" onclick="openControlTab(event, 'Events')">Event types</a></li>
						<li><a href="javascript:void(0)" class="controlTabLink" onclick="openControlTab(event, 'Users')">Users</a></li>
						<!-- <li><a href="javascript:void(0)" class="controlTabLink" onclick="openControlTab(event, 'Filters')">Filters</a></li>   -->
					</ul>
					
					<div id="Trace" class="controlTabContent defaultControlTab">
						<!-- Info on trace -->
						<p>This dataset:</p>
						<div id="datasetInfo">
							
						</div>
						<hr>
						<p>You can:</p>
						<button type="button" class='trace-action-button'>Create event</button>
						<button type="button" class='trace-action-button'>Delete event</button>
						<button type="button" class='trace-action-button'>Truncate trace</button>
						<button type="button" class='trace-action-button'>Delete user</button>
						<hr>
						<p>You did:</p>
						<!-- history -->
						<div id="history">
							
						</div>
					</div>
					
					<div id="Events" class="controlTabContent">
						<form>
							<div class="searchBarArea">
								<input type="submit" class="searchButton" value="Search">
								<div><input type="text" class="searchField"></div>
							</div>
						</form>
					
						<table id="eventTable" class="sortable">
							<thead>
								<tr>
									<th>Event type</th>
									<th id="eventsOccurrencesColumn" class="sorttable_numeric">Nb events</th>
									<th class="sorttable_numeric">Symbol</th>
								</tr>
							</thead>
							<tbody id="eventTableBody">
							</tbody>
						</table>
						<p id="noEvent">No event available. Try connecting to a server and selecting a dataset.</p>
					</div>
					
					<div id="Users" class="controlTabContent">
						<form>
							<div class="searchBarArea">
								<input type="submit" class="searchButton" value="Search">
								<div><input type="text" class="searchField"></div>
							</div>
						</form>
						
						<div id="userTableArea">
							<table id="userTable">
								<thead>
									<tr>
										<th onclick="clickOnUserNameHeader()">User</th>
										<th id="eventsPerUserColumn" onclick="clickOnUserNbEventsHeader()">Nb events</th>
										<th onclick="clickOnUserDurationHeader()">Duration</th>
										<th onclick="clickOnUserStartHeader()">Start</th>
										<th onclick="clickOnUserEndHeader()">End</th>
									</tr>
								</thead>
								<tbody id="userTableBody">
								</tbody>
							</table>
						</div>
					</div>
					
					<!-- <div id="Filters" class="controlTabContent">
						<p>Users:</p>
					</div>   -->
					
				</div>
				
				<div id="middle">
				
					<div id="top" class="section">
						<!-- Activity indicator, disabled for now
						<svg class="leftAligned no-margin-top no-margin-bottom" width="14.4" height="14.4">
							<circle cx="7.2" cy="7.2" r="5" stroke="black" stroke-width="1" fill="grey"/>
						</svg> -->
						<p class="leftAligned no-margin-top no-margin-bottom">Current highlights: </p>
						<p class="leftAligned no-margin-top no-margin-bottom" id="userHighlight">No user</p>
						<p class="leftAligned lastItem no-margin-top no-margin-bottom" id="userHighlight">No event type</p>
						<p class="rightAligned"></p>
					</div>
				
				<!--  <div id="display">  -->
					<div id="center" class="section">
						<div id="timeline-view">
							<div id="timeline">
								<div class="subsection">
									<div class="title">Overview</div>
									<div id="tl_overview" class="body"></div>
								</div>
								<div class="subsection">
									<div class="title">Trace exploration</div>
									<div id="tl_focusControl" class="body"></div>
								</div>
								<div class="subsection">
									<div id="tl_focus" class="body"></div>
								</div>
								<div class="subsection">
									<div class="title">User patterns</div>
									<div id="tl_users" class="body"></div>
								</div>
								<div class="subsection">
									<div class="title">Selected users</div>
									<div id="tl_selectedUsers" class="body"></div>
								</div>
								<div class="subsection">
									<div class="title">Selected patterns</div>
									<div id="tl_patterns" class="body"></div>
								</div>
								<!-- <div class="tl_separator"><span>Trace exploration</span></div>
								<div id="tl_focusControl"></div>
								<div id="tl_focus"></div>
								<div class="tl_separator"><span>User patterns</span></div>
								<!-- <div id="tl_usersControl"></div> -->
								<!-- <div id="tl_users"></div>
								<div class="tl_separator"><span>Selected users</span></div>
								<div id="tl_selectedUsers"></div>
								<div class="tl_separator"><span>Selected patterns</span></div>
								<div id="tl_patterns"></div> -->
							</div>
							<!-- <div id="timelineOverview">
							
							</div> -->
							<div id="centerOverlay">
							
							</div>
						</div>
					
					</div>
				
				</div>
					
				<div id="right">
				
					<div id="algorithmInfo" class="section">
						<div class="title">The Algorithm</div>
						
						<p>Runtime: <span id="runtime">00:00</span></p>
						<p><span id="currentAlgorithmWork">Algorithm not running</span></p>
						<p>Data used: <span id="dataUsed"></span></p>
						<p>Focusing on: <span id="focus"></span></p>
					</div>
					
					<div id="patternArea" class="section">
					
						<div class="title">The Patterns</div>
						
						<form>
							<div class="searchBarArea">
								<input type="submit" class="searchButton" value="Search">
								<div><input type="text" class="searchField"></div>
							</div>
						</form>
					
						<ul class="patternTabs">
							<li><a href="javascript:void(0)" class="patternTabLink active" onclick="openPatternTab(event, 'List')">Full list</a></li>
							<li><a href="javascript:void(0)" class="patternTabLink" onclick="openPatternTab(event, 'Metrics')">Metrics</a></li>
							<li><a href="javascript:void(0)" class="patternTabLink" onclick="openPatternTab(event, 'Algorithm')">Mining</a></li>
						</ul>
						
						<div id="List" class="patternTabContent defaultPatternTab">
							<!-- <div id="patternPagesIndicator">
								<button id="firstPatternPage" class="textButton" onclick="displayFirstPatternPage();"> << </button>
								&nbsp;
								<button id="previousPatternPage" class="textButton" onclick="displayPreviousPatternPage();"> < </button>
								&nbsp;
								<div id="patternPageNumbers">
								
								</div>
								&nbsp;
								<button id="nextPatternPage" class="textButton" onclick="displayNextPatternPage();"> > </button>
								&nbsp;
								<button id="lastPatternPage" class="textButton" onclick="displayLastPatternPage();"> >> </button>
							</div> -->
							<table id="patternTable">
								<thead>
									<tr>
										<th onclick="clickOnPatternNameHeader()">Name</th>
										<th onclick="clickOnPatternSizeHeader()">Size</th>
										<th onclick="clickOnPatternSupportHeader()">Support</th>
									</tr>
								</thead>
								<tbody id="selectedPatternTableBody">
								</tbody>
								<tr id="patternListSeparator">
									<td colspan="3"><hr></td>
								</tr>
								<tbody id="patternTableBody">
								</tbody>
							</table>
						</div>
						
						<div id="Metrics" class="patternTabContent">
							<!-- <div>
								Display &nbsp;
								<input id="patternPageSizeInput" type="number" min="1" onblur="updatePatternPageSize()" value="200">
								&nbsp; patterns in the list.
							</div>
							<hr>  -->
							<p>Pattern sizes' distribution:</p>
							<div id="patternSizeDistribution">
							
							</div>
							<hr>
							
						</div>
					
						<div id="Algorithm" class="patternTabContent">
						<!-- <form id="algorithmForm" onSubmit="return runAlgorithm()">
							<p >	Minimal support&nbsp;
								<input type="number" class="numberInput" id="inputMinSup" form="algorithmForm" min="0" max="1" step="0.01" required>
								&nbsp;<span class="grey-text">(currently&nbsp;<span id=currentMinSup>none</span>)</span>
							</p>
							<p> Window size&nbsp;
								<input type="number" class="numberInput" id="inputWindowSize" form="algorithmForm" min="1" max="31536000" required>
								&nbsp;<span class="grey-text">(currently&nbsp;<span id=currentWindowSize>none</span>)</span>
							</p>
							<p> Maximum size&nbsp;
								<input type="number" class="numberInput" id="inputMaxSize" form="algorithmForm" min="1" max="10000" required>
								&nbsp;<span class="grey-text">(currently&nbsp;<span id=currentMaxSize>none</span>)</span>
							</p>
							<p> Maximum gap&nbsp;
								<input type="number" class="numberInput" id="inputMaxGap" form="algorithmForm" min="0" max="10000" required>
								&nbsp;<span class="grey-text">(currently&nbsp;<span id=currentMaxGap>none</span>)</span>
							</p>
							
								<input type="submit" value="Run">
							</form>
							<p><a href="javascript:void(0)" onclick="runAlgoToFile()">Run algo and save to file</a></p>
							<!-- rerun button -->
							<!-- <br>
							<hr> -->
							<div id="sliderSupportArea">
								<p>Support:<span class="iconHelper" id="helpSupport">&nbsp;&nbsp;(?)</span></p>
								<br>
								<div id="sliderSupport"></div>
							</div>
							<div id="sliderGapArea">
								<p>Gap:<span class="iconHelper" id="helpGap" title="Number of events in the pattern that don't belong to it">&nbsp;&nbsp;(?)</span></p>
								<br>
								<div id="sliderGap"></div>
							</div>
							<div id="sliderWindowArea">
								<p>Window:<span class="iconHelper" id="helpWindow">&nbsp;&nbsp;(?)</span></p>
								<br>
								<div id="sliderWindow"></div>
							</div>
							<div id="sliderSizeArea">
								<p>Size:<span class="iconHelper" id="helpSize">&nbsp;&nbsp;(?)</span></p>
								<br>
								<div id="sliderSize"></div>
							</div>
						</div>
					
					</div>
					
				</div>
				<!-- </div> -->
			
	<!-- 		
			
				<div id="header">
					<h2>Progressive Pattern Mining Tool</h2>
					<div class="button" id="startMining"> <a href="#" OnClick="startMining()">Start mining</a> </div>
					<div class="button" id="stopMining"> <a href="#" OnClick="stopMining()">Stop mining</a> </div>
					<div class="button" id="goToTimelineStart"> <a href="#" OnClick="goToTimelineStart()">Go to first event</a> </div>
					<div class="button" id="timelineOverview"> <a href="#" OnClick="timelineOverview()">View all events</a> </div>
					<div class="button" id="requestData"> <a href="#" OnClick="requestData()">Obtain Dataset</a> </div>
					<div class="button" id="drawLiftMatrix"> <a href="#" OnClick="drawLift()">Draw lift matrix</a> </div>
					<div class="button" id="steeringOnWriteSampleData"> <a href="#" OnClick="requestSteering('create')">Steer on create</a> </div>
				</div>
				<div id="timeline-view">
					<h4>Timeline view:</h4>
					<div id="timeline">
					
					</div>
				</div>
				<div id="pattern-view">
					<h4>Discovered patterns:</h4>
					<div id="pattern-list">
						<ul id="patterns">
						</ul>
					</div>
				</div>
				<div id="chart-view">
					<h4>Lift matrix:</h4>
					<div id="chart-lift">
					
					</div>
				</div>
				<div id="dataset-info">
					<h4>Current dataset:</h4>
					<h4>Dataset information:</h4>
					<p> Number of users : <span id="nbUsers">??</span><p>
					<p> Current user : <span id="currentUser"></span><p>
					<p> Number of different events : <span id="nbDiffEvents">??</span></p>
					<p> Number of discovered patterns : </p>
					<ul id="listNbPatternsStartingBy">
						<li> Total : <span id="nbTotal">0</span></li>
					</ul>
				</div>
				
	 -->			
				
				
			</div>
		</div>
	    <script src="jscolor/jscolor.js" type="text/javascript"></script> <!-- http://jscolor.com -->
		<script src="D3/d3.js" type="text/javascript"></script>
		<script src="noUiSlider/nouislider.js" type="text/javascript"></script>
		<script src="d3-symbol-extra.js" type="text/javascript"></script>
		<script src="customSymbols.js" type="text/javascript"></script>
		<script src="lz-string.js" type="text/javascript"></script> <!-- -->
	    <script src="ClientScript.js" type="text/javascript"></script>
	    <script src="SortTable/sorttable.js" type="text/javascript"></script>
	    <script src="tooltip.js" type="text/javascript"></script>
	    <!-- <script src="ScatterplotTimeline.js" type="text/javascript"></script> <!-- -->
	    <!-- <script src="CanvasTimeline.js" type="text/javascript"></script> <!--   -->
	</body>
</html>
